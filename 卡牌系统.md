# 卡牌系统

## 目标
- 角色每升 3 级获得 1 张卡牌。
- 卡牌有 5 个品质，每个品质都有“厉害”和“垃圾”两类。
- 卡牌提供属性加成/减成，实时影响角色属性。

## 规则
- 发放时机：角色等级达到 3 的倍数（如 Lv3/Lv6/Lv9…）。
- 发放流程：
  1) 按品质权重抽取品质
  2) 随机决定“厉害/垃圾”类型
  3) 从对应池中抽取卡牌并入库
- 品质权重：普通 45、优秀 25、稀有 15、史诗 10、传说 5
- 类型：
  - 厉害：正向加成
  - 垃圾：负向减成

## 品质与强度示例
- 普通：小幅增减（如 +8 生命 / -2 速度）
- 优秀：中等增减（如 +4 攻击 / -3 防御）
- 稀有：复合增减（如 命中+4 + 暴击+3）
- 史诗：高幅增减（如 生命+18 + 防御+6）
- 传说：极大增减（如 全属性提升或显著削弱）

## 卡牌数据结构
- CardQuality：COMMON / UNCOMMON / RARE / EPIC / LEGEND
- CardDefinition：id、name、quality、description、effects、isGood
- CardInstance：uid、name、quality、description、effects、isGood
- CardEffect：stat、value（StatType + 数值）

## 属性影响
- 卡牌效果参与角色属性计算，与装备加成叠加。
- 允许出现负值（垃圾卡）。

## 日志要求
- 升级触发卡牌时记录：等级、品质、类型、卡牌名称、原因。
- UI 日志显示卡牌名称、品质、类型与效果。

## UI 展示
- 侧边栏“快捷面板”新增“卡牌”按钮。
- 卡牌面板展示卡牌列表（名称、品质、类型、效果）。

## 扩展建议
- 可增加卡牌合成/分解、卡牌槽位限制、套装效果等。
